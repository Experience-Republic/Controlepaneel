<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="index.css"/>
        <script type="module" src="index.js"></script>
    </head>
    <body>
        <div
            class="bg-indigo-500 w-1/6 text-center rounded-lg mx-auto p-10 m-2 timer"
            x-data="timer(new Date().setMinutes(new Date().getMinutes() + 10))"
            x-init="init();"
        >
            <h1 class="text-8xl text-white" x-text="time().minutes+':'+time().seconds"></h1>
        </div>
        <div class="flex flex-row">
            <div class="flex flex-col items-center w-1/2">
                <img src="./assets/1 groen.png" alt="1" class="m-2 w-1/4" />
                <img src="./assets/2 groen.png" alt="2" class="m-2 w-1/4" />
            </div>
            <div class="flex flex-col items-center w-1/2">
                <img src="./assets/3 groen.png" alt="3" class="m-2 w-1/4" />
                <img src="./assets/4 groen.png" alt="4" class="m-2 w-1/4" />
            </div>
        </div>
        <div class="flex items-center justify-center">
            <input type="text" class="border-2 px-4 py-2 border border-gray-300 rounded-md" placeholder="Enter Code">
          </div>
        <!-- A background image -->
        <!-- A button that says "Press enter to start" -->
        <!-- 4 images that have a red and a green variant -->
        <!-- A popup that pops up when a wrong code is entered, indicating a time penalty -->
    </body>
    <script>
        function timer(expiry) {
            return {
                expiry: expiry,
                remaining: null,
                init() {
                    this.setRemaining()
                    setInterval(() => {
                        this.setRemaining()
                    }, 1000)
                },
                setRemaining() {
                    const diff = this.expiry - new Date().getTime()
                    this.remaining = parseInt(diff / 1000)
                },
                days() {
                    return {
                        value: this.remaining / 86400,
                        remaining: this.remaining % 86400,
                    }
                },
                hours() {
                    return {
                        value: this.days().remaining / 3600,
                        remaining: this.days().remaining % 3600,
                    }
                },
                minutes() {
                    return {
                        value: this.hours().remaining / 60,
                        remaining: this.hours().remaining % 60,
                    }
                },
                seconds() {
                    return {
                        value: this.minutes().remaining,
                    }
                },
                format(value) {
                    return ('0' + parseInt(value)).slice(-2)
                },
                time() {
                    return {
                        days: this.format(this.days().value),
                        hours: this.format(this.hours().value),
                        minutes: this.format(this.minutes().value),
                        seconds: this.format(this.seconds().value),
                    }
                },
            }
        }
    </script>
</html>
